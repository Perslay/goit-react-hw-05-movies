"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[669],{669:(e,s,t)=>{t.r(s),t.d(s,{Movies:()=>M});var a=t(791),n=t(689),i=t(87);const r="Movies_container__5agh3",c="Movies_main__ud9w0",o="Movies_form__a6uP0",l="Movies_input__PCCAR",_="Movies_buttonSubmit__CfP1L Movies_button__rXFnr",u="Movies_list__PM-Yl",m="Movies_link__r4VOG",h="Movies_pagination__DP+QV",v="Movies_buttonPage__6FrtI Movies_button__rXFnr",d="Movies_info__884km",p="Movies_error__gMlTD";var x=t(184);const M=e=>{let{handleFetching:s}=e;const[t,M]=(0,a.useState)(""),[b,j]=(0,a.useState)([]),[g,N]=(0,a.useState)(!1),[f,k]=(0,a.useState)(1),[S,y]=(0,a.useState)(!1),w=(0,n.s0)(),C=async(e,t)=>{try{const a=await s("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=").concat(t));j(a.results),N(!0),w("/movies",{replace:!0})}catch(S){y(!0)}};return(0,x.jsx)("main",{className:c,children:(0,x.jsxs)("div",{className:r,children:[(0,x.jsxs)("form",{className:o,onSubmit:async e=>{e.preventDefault();const s=e.currentTarget,t=s.elements.search.value;M(t),k(1),await C(t,1),s.reset()},children:[(0,x.jsx)("input",{className:l,type:"text",name:"search"}),(0,x.jsx)("button",{className:_,type:"submit",children:"Search"})]}),g&&b&&(b.length>0?(0,x.jsxs)("div",{children:[(0,x.jsx)("ul",{className:u,children:b.map((e=>(0,x.jsx)("li",{children:(0,x.jsx)(i.rU,{className:m,to:"/movies/".concat(e.id),children:e.title})},e.id)))}),(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("button",{className:v,onClick:()=>{if(1===f)return;const e=f-1;k(e),C(t,e)},type:"button",children:"Back"}),(0,x.jsx)("button",{className:v,onClick:()=>{const e=f+1;k(e),C(t,e)},type:"button",children:"Next"})]})]}):(0,x.jsx)("p",{className:d,children:"There are no matching results."})),(S||!b)&&(0,x.jsx)("p",{className:p,children:"Error: Failed to get information from the server."})]})})}}}]);
//# sourceMappingURL=669.2e0e73e7.chunk.js.map